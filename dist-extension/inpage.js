const i={isFunWallet:!0,isMetaMask:!1,chainId:"0x38",networkVersion:"56",selectedAddress:null,_events:{},_pendingRequests:new Map,isConnected(){return!0},request:async function(e){return new Promise((t,n)=>{const s=Date.now().toString()+"_"+Math.random().toString(36).slice(2);this._pendingRequests.set(s,{resolve:t,reject:n});const r=a=>{a.data.type==="FUN_WALLET_RESPONSE"&&a.data.id===s&&(window.removeEventListener("message",r),this._pendingRequests.delete(s),a.data.error?n(new Error(a.data.error)):t(a.data.result))};window.addEventListener("message",r),window.postMessage({type:"FUN_WALLET_REQUEST",id:s,method:e.method,params:e.params},"*"),setTimeout(()=>{this._pendingRequests.has(s)&&(window.removeEventListener("message",r),this._pendingRequests.delete(s),n(new Error("Request timeout")))},3e5)})},on(e,t){return this._events[e]||(this._events[e]=[]),this._events[e].push(t),this},removeListener(e,t){return this._events[e]&&(this._events[e]=this._events[e].filter(n=>n!==t)),this},removeAllListeners(e){return e?delete this._events[e]:this._events={},this},emit(e,...t){this._events[e]&&this._events[e].forEach(n=>{try{n(...t)}catch(s){console.error("[FUN Wallet] Event handler error:",s)}})},enable(){return this.request({method:"eth_requestAccounts"})},send(e,t){return this.request({method:e,params:t})},sendAsync(e,t){this.request(e).then(n=>t(null,{result:n})).catch(n=>t(n))}};window.addEventListener("message",e=>{e.data.type==="FUN_WALLET_EVENT"&&(i.emit(e.data.event,e.data.data),e.data.event==="chainChanged"?(i.chainId=e.data.data,i.networkVersion=parseInt(e.data.data,16).toString()):e.data.event==="accountsChanged"?i.selectedAddress=e.data.data?.[0]||null:e.data.event==="disconnect"&&(i.selectedAddress=null))});window.funWallet=i;window.ethereum||(window.ethereum=i);const o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEkElEQVR4nO2bW4hVVRjHf+OYY5qXvJRpZl7SHtKyIoLKCOqhIIhepDe7PAQF9dJDRBdC6KEuUD1EQReCrpRBRUQXetFurEuXoUJH0xwd7+N45szpYa3D7Dn7ss/eZ58958z+w2IG1t5r/f/f+ta31l57QUFBQUFBQUGnMQU4G7gQWALMB6YBk4FxQD/QCxwBeoADwE5gG/A18Bmwv91K5uF04HngAMEB15vdBdwLnNYuJfPiOuBHwgNttjmwHFjRDoXjYjpwN3AI/0CnlQ3AL8CVwJh2KB2FScAGwgObrHkB2Kfuc2nXAIfwD2xpn8uBp1XZxwnWA78RHuBE+wQ4y5c+eYKkwj7f4D6vUZZDvuQIJBGSKr8DP6j/XwZcpH5LJr8bGNsubcNZhZoZHwbWqvOZwD/q95+Bc9uhZBC+Ba7Ae9V/CHhY/T4P2K1++x6Y0w4lg5gJvEHlNf8YcKn6/S/genVuMnC4ncrGYRLwFnAE70f/J8o3wAwVBdcDN6jzS4Bf261oFNYBR9X5J4C71O9HgTeAS9T/dwKr2qNedFYCpwA9eCN+I7C9bBz4LzC0nUrGZQGwEW/FMgf4BlWzwPvARe1TMj7TgU+B4Xg/+r8L3Kp+Xwx80S4l0zA8rjMN+BY4Be/H/w/A7e1SNg/mA1tV2WP4VoHNwMx2KpoXZwAfqbJH8D7+TwC3qfPnAV+2U9ksmA18qsru57cZQC/wELBQnV8BfNdOZbNiDvAB3o+/G/gIWKh+nwvsaaeyeXAG3qLnONAFfIW3I1zeFOAn4OJ2K5sV04DPgH+B43jXwfXq/DTg53YrmyeTgO+ByuJnB3CHOj8FOKGN+uXGJOBbvAGvbHzeBC5W56cDJ9upbJ5MAXapt87JeL/4NqnzE4HBdiqbN5OAPXgD/p+IZUTOBwbaqWwRmAzsBU7iDXx1I3gycLydyhaBycAB4CTeK/6usvOAf9upbBGYChzGuwqcBOwvOw/4u53KFoGJwBG8AS8vcr7Du/KDNuhWFMbjDXhlkfMdcJlq34e3EhxqOKgGGAe8jTfglUXOJuCasv4j0MYnoqJwCt5d4CTet8CtuHLsgQPQGNeCjHK8MBrYTuVy2SigB47xwsngdKBbvXlO4gu8XNU+hLZ+JTasZY/1E3lPNJjjF1AdBuA1NZ2HA9n/5NduA9pnZVHzJfAdquQMvJ0hW9oGVPkeaJ8sF1Mu31KxXJ6xfA+0f6zLt8AbeTu1fAGt+xpoX1p5C6xg91i+B9rXGHkLrCFaexpo38wW3QKZynaB9y3u/dYGe6B94BbYBUZqDyT3lm+BNkBw4Dn0tneB0dqjCL0FNlAtfpL2QHJD+RZo47XAEqp/D7SvMfIWWEF4D4Qteo6S1wNNkPdAsgi5D1j+HmhfY8R+D7TeJWaL3gJrSO0tMGQPpHyA3AMtHQKj+B5IlrBbYCP3QDJnuQ/IaA8k78J9QOEPxdoFNnMPJPeg/Eu0eiC5F/0fCvdA0v+Qdlq6B5LbfQ+06BZYQf8L/gP8C+X/kP+T/gAAAABJRU5ErkJggg==",A={uuid:"550e8400-e29b-41d4-a716-446655440000",name:"FUN Wallet",icon:o,rdns:"io.funwallet.wallet"};function d(){window.dispatchEvent(new CustomEvent("eip6963:announceProvider",{detail:Object.freeze({info:A,provider:i})}))}d();window.addEventListener("eip6963:requestProvider",d);document.readyState==="loading"?document.addEventListener("DOMContentLoaded",d):document.readyState==="interactive"&&d();setTimeout(d,100);setTimeout(d,500);setTimeout(d,1e3);window.dispatchEvent(new Event("fun-wallet#initialized"));console.log("[FUN Wallet] Provider injected successfully");
